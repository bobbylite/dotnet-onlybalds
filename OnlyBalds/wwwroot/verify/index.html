<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<title>Only Balds</title>
	<meta name="keywords" content="">
	<meta name="description" content="">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->   
	
    <link rel="icon" href="/favicon.png" />
	<link rel="icon" href="/images/favicon-16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="/images/favicon-32.png" sizes="32x32" type="image/png">
	<link rel="icon" href="/images/favicon-48.png" sizes="48x48" type="image/png">
	<link rel="icon" href="/images/favicon-62.png" sizes="62x62" type="image/png">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<meta property="og:url" content="https://example.com/page.html">
	<meta property="og:type" content="website">
	<meta property="og:title" content="Content Title">
	<meta property="og:image" content="https://example.com/image.jpg">
	<meta property="og:description" content="Description Here">
	<meta property="og:site_name" content="Site Name">
	<meta property="og:locale" content="en_US">

    <link rel="stylesheet" href="/app.css"/>

	<link rel="stylesheet" href="/assets/styles/styles-1d9c2d7206.css"/>

	<script src="/assets/scripts/Vendor-07ad14d4d0.js"></script>

    <style>
        html, body {
            overflow-y: scroll;
        }
        .custom-toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: #1f2937;
            color: #f9fafb;
            padding: 14px 20px;
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            font-size: 15px;
            z-index: 9999;
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
            transition: all 0.4s ease;
        }
        .custom-toast.show {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
            cursor: pointer;
        }
    </style>

</head>
<body>

	<!-- COMMENT
	================================================== -->
	<div class="navbar">
		<div class="navbar__left">
			<button class="navbar__logo">
                <img src="/assets/images/logo.png" alt="Only Balds" >
            </button>
		</div>
		<nav class="navbar__nav">
			<ul class="nav main-nav">
				<li class="nav__item"><button class="nav__link about">About</button></li>
				<li class="nav__item"><button class="nav__link forum">Forum</button></li>
				<li class="nav__item"><button class="nav__link chat-room">Chat Room</button></li>
				<li class="nav__item"><button class="nav__link marketplace">Marketplace</button></li>
				<li class="nav__item dropdown">
					<a href="#" class="nav__link dropdown__toggle" role="button">Social
						<i class="fa fa-angle-down dropdown__toggle-icon"></i>
					</a>
					<ul class="dropdown__nav">
						<li class="dropdown__item"><a href="#" class="dropdown__link dropdown__link--icon" target="_blank"><i class="fa fa-facebook-square"></i> Facebook</a></li>
						<li class="dropdown__item"><a href="https://www.instagram.com/onlybaldsllc/" class="dropdown__link dropdown__link--icon" target="_blank"><i class="fa fa-instagram"></i> Instagram</a></li>
					</ul>
				</li>
			</ul>
		</nav>
		<div class="navbar__right dropdown">
			<a href="#" class="navbar__user-dropdown">
                <div class="navbar__user-profile-abbrev">
                    <div class="navbar__user-profile-abbrev-text">
                        <svg xmlns="http://www.w3.org/2000/svg" style="margin-top: 5px;" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                        </svg>
                    </div>
                </div> 
                <span class="navbar__mobile-hide">My </span>Account <i class="fa fa-angle-down dropdown__toggle-icon"></i>
            </a>
            <ul id="menu-options" class="dropdown__nav dropdown__nav--user">
                <li class="dropdown__item dropdown__item--title greeting"></li>
                <li class="dropdown__item complete-signup">
                    <button class="dropdown__link dropdown__link--icon finish-signup" style="width: 100%;">
                        <i class="fa fa-edit"></i> 
                        Complete Signup
                    </button>
                </li>
                <li class="dropdown__item sign-in">
                    <a href="/auth/login" class="dropdown__link dropdown__link--icon">
                        <i class="fa fa-sign-in"></i> 
                        Sign In
                    </a>
                </li>
            </ul>
            <div class="navbar__mobile-buttons">
                <button class="navbar__toggle navicon">
                    <div class="navicon__holder">
                        <div class="navicon__line"></div>
                        <div class="navicon__line"></div>
                        <div class="navicon__line"></div>
                    </div>
                </button>
            </div> 
		</div>
	</div><!--/comment -->

    <!-- BANNER
    ============================================== -->
    <div class="banner banner--fade-to-gray">
        <div class="container">
            <h1 class="banner__heading"  data-aos="fade-up" data-aos-delay="100" data-aos-offset="0">You will be signed out</h1>
            <p class="lead banner__paragraph" data-aos="fade-up" data-aos-delay="200" data-aos-offset="0">Please sign out and sign back in to continue.</p>
        </div>
    </div><!--/banner -->

    <!-- MARKETPLACE
    ============================================== -->
    <div class="section section--gray">
        <div class="container">
            <div class="box box--with-top-lines" data-aos="fade-up" data-aos-delay="150" data-aos-offset="0">
                <div class="box__top-line box__top-line--light-blue"></div>
                <div class="box__top-line box__top-line--blue"></div>
                <div class="box__holder">
                    <div class="box__section">
                        <p class="card-text">
                            Thank you for verifying your identity! 
                        </p>
                        <p class="card-text">
                            To continue creating your account, please sign out and then sign back in. 
                            The next step is short, easy, and will get you one step closer to joining our community of like-minded individuals.
                        </p>
                        <div class="box__buttons">
                            <a href="/auth/logout" class="btn btn--rounded btn--blue">Sign Out Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

	<div class="footer" style="display: none;">
        <div class="container">
            <div class="footer__buttons">
                <ul class="footer__button-links">
                    <li><a href="/forum" class="btn btn--rounded btn--faded">Forum</a></li>
                    <li><a href="/chat-room" class="btn btn--rounded btn--faded">Chat Room</a></li>
                    <li><a href="/marketplace" class="btn btn--rounded btn--faded">Marketplace</a></li>
                    <li class="footer__right-list-item"><a href="/account-questionnaire" class="btn btn--rounded btn--white">Become A Member</a></li>
                </ul>
            </div>
        </div>
        <img src="/assets/images/only-balds-face-icon.png" alt="" aria-hidden="true" class="footer__face-icon">
    </div>

    <div id="custom-toast" class="custom-toast">You can only perform that action on your own post</div>

    <script src="/assets/scripts/App-5379555225.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.5/signalr.min.js"></script>

    <script>
        $(() => {
            registerHome();
            registerSignUp();
            registerAbout();
            registerForum();
            registerChatRoom();
            registerMarketplace();
        });

        const registerSignUp = () => {
            $('.finish-signup').on('click', function (e) {
                e.preventDefault();

                emptyComponents();

                let isAuthorizedForPage = window.app.scripts.isAuthorizedForPage();
                if (!isAuthorizedForPage) {
                    return;
                }

                window.app.scripts.loadFinishSignUp();
            });
        };

        const registerAbout = () => {
            $('.about').on('click', function (e) {
                e.preventDefault();
                
                emptyComponents();
                window.app.scripts.loadAbout();
            });
        };

        const registerHome = () => {
            window.app.scripts.loadHome();

            $('.navbar__logo').on('click', function (e) {
                e.preventDefault();

                emptyComponents();
                window.app.scripts.loadHome();
            });
        };

        const registerForum = () => {
            $('.forum').on('click', function (e) {
                e.preventDefault();

                emptyComponents();

                let isAuthorizedForPage = window.app.scripts.isAuthorizedForPage();
                if (!isAuthorizedForPage) {
                    return;
                }

                window.app.scripts.loadForum();
            });
        };

        const registerChatRoom = () => {
            $('.chat-room').on('click', function (e) {
                e.preventDefault();

                emptyComponents();

                let isAuthorizedForPage = window.app.scripts.isAuthorizedForPage();
                if (!isAuthorizedForPage) {
                    return;
                }

                window.app.scripts.loadChatRoom();
            });
        };

        const registerMarketplace = () => {
            $('.marketplace').on('click', function (e) {
                e.preventDefault();

                emptyComponents();
                window.app.scripts.loadMarketplace();
            });
        };

        function closeNavbar() {
            $('.navbar__nav').removeClass('navbar__nav--is-open');
            $('.navbar__toggle').removeClass('navicon--toggle');
        }

        function emptyComponents() {            
            window.state = 
            {
                isUserOnline: false
            }
        }

    </script>

    <script>
        window.app = window.app || {};
        window.app.scripts = {
            updateQueryParam: (key, value) => {
                console.log("Updating query param:", key, value);
                const url = new URL(window.location.href);

                for (const param of Array.from(url.searchParams.keys())) {
                    url.searchParams.delete(param);
                }

                url.searchParams.set(key, value);
                console.log("Updated URL:", url.toString());
                window.history.replaceState(history.state, '', url);
            },
            clearQueryParams: () => {
                const url = new URL(window.location.href);
                url.search = '';
                window.history.replaceState(history.state, '', url);
            },
            loadComponent: (component, componentPlaceholder, queryKey, queryValue) => {
                emptyComponents();
                $('.footer').hide();

                let url = new URL(window.location.href);

                if (queryKey && queryValue) {
                    url.searchParams.set(queryKey, queryValue);
                }

                $(`#component-placeholder`).load(`components/${component}.html`, function () {
                    history.pushState(
                        { component, componentPlaceholder },
                        null,
                        url.toString()
                    );
                });

                $('.footer').fadeIn(400);
                closeNavbar();
            },
            loadAbout: () => window.app.scripts.loadComponent('about', 'about-placeholder'),
            loadHome: () => window.app.scripts.loadComponent('home', 'home-placeholder'),
            loadForum: () => window.app.scripts.loadComponent('forum', 'forum-placeholder'),
            loadChatRoom: () => window.app.scripts.loadComponent('chat-room', 'chat-room-placeholder'),
            loadMarketplace: () => window.app.scripts.loadComponent('marketplace', 'marketplace-placeholder'),
            loadNewPost: () => window.app.scripts.loadComponent('forum-new-post', 'new-post-placeholder'),
            loadFinishSignUp: () => window.app.scripts.loadComponent('finish-signup', 'finish-signup-placeholder'),
            loadVerify: () => window.app.scripts.loadComponent('verify', 'verify-placeholder'),
            loadUnauthorized: () => window.app.scripts.loadComponent('unauthorized', 'unauthorized-placeholder'),
            registerReadPostClick: (postId) => {
                $(`.read-post-${postId}`).on('click', function (e) {
                    e.preventDefault();

                    console.log("Read post clicked:", postId);

                    window.app.scripts.loadComponent('forum-single', 'read-post-placeholder', 'postId', postId);
                });
            },
            registerNewPostClick: () => {
                $('.write-new-post').on('click', function (e) {
                    e.preventDefault();

                    console.log("New post clicked");

                    window.app.scripts.loadComponent('forum-new-post', 'new-post-placeholder');
                    
                });
            },
            isAuthorizedForPage: () => {
                if (typeof user.isAuthenticated === "undefined")
                {
                    window.app.scripts.loadUnauthorized();
                    return false;
                }
        
                console.log("Authorized User:", user);
                return true;
            },
            showToast: (message) => {
                const $toast = $('#custom-toast');
                $toast.text(message).addClass('show');

                const timeout = setTimeout(() => {
                    $toast.removeClass('show');
                }, 3000);

                $toast.one('click', function () {
                    clearTimeout(timeout);
                    $(this).removeClass('show');
                });
            }
        };

        const urlParams = new URLSearchParams(window.location.search);

        const supportSignUp = urlParams.get('supportSignUp');
        const supportForgotPassword = urlParams.get('supportForgotPassword');
        const message = urlParams.get('message');
        const success = urlParams.get('success');
        const code = urlParams.get('code');

        let toastMessage = "";

        if (message) {
        toastMessage += message;
        } else {
        toastMessage = "Action completed.";
        }

        if (success === "true" && code === "success") {
        toastMessage += " 🎉";
        } else if (success === "false") {
        toastMessage += " ❌";
        }

        if (supportSignUp === "true" || supportForgotPassword === "true") {
        toastMessage += "\nSupport features enabled:";
        if (supportSignUp === "true") toastMessage += " Sign Up";
        if (supportForgotPassword === "true") toastMessage += " Forgot Password";
        }

        window.app.scripts.showToast("Identity Verified Successfully");

        setTimeout(() => {
            //window.location.href = "/auth/logout";
        }, 5000);
    </script>
</body>
</html>
