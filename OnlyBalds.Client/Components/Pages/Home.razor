@page "/"

@inject IJSRuntime JSRuntime

<PageTitle>Home</PageTitle>

<div class="container py-5">
    <div class="text-center">
        <img src="img/OnlyBalds-CircleLogo.webp" alt="OnlyBalds Logo" class="img-fluid mb-4" style="max-width: 300px;">
    </div>
    
    <AuthorizeView>
        <Authorized>
            <h2 class="text-center mb-4">Welcome to the OnlyBalds Ecosystem!</h2>
    
            <div class="row row-cols-1 row-cols-md-2 g-4">
                <div class="col">
                    <div class="card h-100 rounded">
                        <div class="card-body">
                            <h5 class="card-title">Marketplace</h5>
                            <img src="img/OnlyBalds-Marketplace.webp" alt="Marketplace" class="img-fluid mb-3 bg-light">
                            <p class="card-text">Find the best razors and shaving kits tailored for bald individuals.</p>
                            <a href="marketplace" class="btn btn-primary rounded-pill">Go to Marketplace</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100 rounded">
                        <div class="card-body">
                            <h5 class="card-title">Chat Room</h5>
                            <img src="img/OnlyBalds-Chatroom.webp" alt="Chat Room" class="img-fluid mb-3 bg-light">
                            <p class="card-text">Connect with the community in real-time, share tips, stories, and more.</p>
                            <a href="chat" class="btn btn-primary rounded-pill">Join the Chat</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100 rounded">
                        <div class="card-body">
                            <h5 class="card-title">Forums</h5>
                            <p class="card-text">Engage in discussions, ask questions, and get answers.</p>
                            <a href="Threads" class="btn btn-primary rounded-pill">Visit the Forums</a>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card h-100 rounded">
                        <div class="card-body">
                            <h5 class="card-title">More Services</h5>
                            <p class="card-text">Discover additional services and features exclusively for you.</p>
                            <a href="services" class="btn btn-primary rounded-pill">Explore</a>
                        </div>
                    </div>
                </div>
            </div>
        </Authorized>
        <NotAuthorized>
            <p class="text-center mb-4 fw-bold text-dark">Welcome to OnlyBalds! Please <a href="identity/account/login" class="text-decoration-none text-primary">log in</a> to access OnlyBalds products and services.</p>
        </NotAuthorized>
    </AuthorizeView>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var jsModule = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "./Components/Pages/Home.razor.js");
            await jsModule.InvokeVoidAsync("onLoad");
        }
    }
}